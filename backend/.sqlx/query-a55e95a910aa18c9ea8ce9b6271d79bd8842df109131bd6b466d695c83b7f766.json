{
  "db_name": "PostgreSQL",
  "query": "\n            SELECT\n            ae.route_id,\n            array_agg(\n                            DISTINCT jsonb_build_object(\n                                'id',\n            a.id,\n            'header',\n            a.header_html,\n            'description',\n            a.description_html,\n            'alert_type',\n            a.alert_type,\n            'updated_at',\n            a.updated_at,\n            'active_periods',\n            ap\n                            )\n                        ) AS alerts\n        FROM\n            alerts a\n        LEFT JOIN active_periods ap ON\n            a.id = ap.alert_id\n        LEFT JOIN affected_entities ae ON\n            a.id = ae.alert_id\n        WHERE\n            a.in_feed = TRUE\n            AND\n                        ae.route_id IS NOT NULL AND ae.route_id = ANY($1)\n            AND ap.start_time < now()\n            AND (\n                            ap.end_time > now()\n                OR ap.end_time IS NULL\n                        )\n        GROUP BY\n            ae.route_id;",
  "describe": {
    "columns": [
      {
        "ordinal": 0,
        "name": "route_id",
        "type_info": "Varchar"
      },
      {
        "ordinal": 1,
        "name": "alerts",
        "type_info": "JsonbArray"
      }
    ],
    "parameters": {
      "Left": [
        "TextArray"
      ]
    },
    "nullable": [
      true,
      null
    ]
  },
  "hash": "a55e95a910aa18c9ea8ce9b6271d79bd8842df109131bd6b466d695c83b7f766"
}
