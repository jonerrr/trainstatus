{
  "db_name": "PostgreSQL",
  "query": "\n                    INSERT INTO realtime.affected_entity (\n                        alert_id,\n                        route_id,\n                        source,\n                        stop_id,\n                        sort_order\n                    )\n                    SELECT\n                        data.alert_id,\n                        data.route_id,\n                        data.source,\n                        data.stop_id,\n                        data.sort_order\n                    FROM (\n                        SELECT\n                            unnest($1::uuid[]) as alert_id,\n                            unnest($2::text[]) as route_id,\n                            unnest($3::source_enum[]) as source,\n                            unnest($4::text[]) as stop_id,\n                            unnest($5::int[]) as sort_order\n                    ) data\n                    LEFT JOIN static.route r ON data.route_id = r.id AND data.source = r.source\n                    LEFT JOIN static.stop s ON data.stop_id = s.id AND data.source = s.source\n                    WHERE (data.route_id IS NULL OR r.id IS NOT NULL)\n                    AND (data.stop_id IS NULL OR s.id IS NOT NULL)\n                    ON CONFLICT DO NOTHING\n                    ",
  "describe": {
    "columns": [],
    "parameters": {
      "Left": [
        "UuidArray",
        "TextArray",
        {
          "Custom": {
            "name": "source_enum[]",
            "kind": {
              "Array": {
                "Custom": {
                  "name": "source_enum",
                  "kind": {
                    "Enum": [
                      "mta_subway",
                      "mta_bus",
                      "njt_rail",
                      "lirr",
                      "mnr"
                    ]
                  }
                }
              }
            }
          }
        },
        "TextArray",
        "Int4Array"
      ]
    },
    "nullable": []
  },
  "hash": "162403ad5ea270709e0f23bcf31b56008d85fab28b808cf5fa6c6e98aeca4220"
}
